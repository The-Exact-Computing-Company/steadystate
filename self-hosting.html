<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SELF_HOSTING - SteadyState Manual</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- THEME TOGGLE (must be here, not in <head>) -->
    <input type="checkbox" id="toggle-theme">

    <div class="layout">
        <aside class="sidebar">
            <div class="sidebar-header"><a href="index.html" >STEADYSTATE</a></div><div class="sidebar-section"><div class="sidebar-title">User Guide</div><ul><li><a href="hosting-pair-programming.html" >Pair Programming</a></li><li><a href="hosting-collaborative-session.html" >Collaborative Session</a></li><li><a href="self-hosting.html" class="current">Self-Hosting</a></li></ul></div><div class="sidebar-section"><div class="sidebar-title">Reference</div><ul><li><a href="commands.html" >Commands</a></li><li><a href="configuration.html" >Configuration</a></li></ul></div><div class="sidebar-section"><div class="sidebar-title">Internals</div><ul><li><a href="architecture.html" >Architecture</a></li><li><a href="merge-engine.html" >Merge Engine</a></li><li><a href="troubleshooting.html" >Troubleshooting</a></li></ul></div>
        </aside>

        <div class="content">
            <header>
                <div class="header-left">STEADYSTATE(1)</div>
                <div class="header-center">SteadyState Manual</div>
                <div class="header-right">
                    <label class="theme-toggle" for="toggle-theme">
                        <span>Toggle Theme</span>
                    </label>
                </div>
            </header>

            <main>
<h1 id="self-hosting-setup">Self-Hosting Setup</h1>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Linux server (Ubuntu 22.04+ recommended) or NixOS</li>
<li>Rust toolchain (1.75+)</li>
<li>Git</li>
<li>GitHub OAuth App credentials</li>
</ul>
<h2 id="create-a-github-oauth-app">1. Create a GitHub OAuth App</h2>
<ol type="1">
<li>Go to <strong>GitHub → Settings → Developer settings → OAuth Apps →
New OAuth App</strong></li>
<li>Fill in:
<ul>
<li><strong>Application name</strong>: <code>SteadyState</code> (or your
preferred name)</li>
<li><strong>Homepage URL</strong>:
<code>http://your-server:3000</code></li>
<li><strong>Authorization callback URL</strong>:
<code>http://your-server:3000/auth/callback</code></li>
</ul></li>
<li>Note your <strong>Client ID</strong> and generate a <strong>Client
Secret</strong></li>
</ol>
<h2 id="clone-and-build">2. Clone and Build</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clone the repository</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/your-org/steadystate.git</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> steadystate</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Build the backend and CLI</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="ex">cargo</span> build <span class="at">--release</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># The binaries will be in target/release/</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># - steadystate-backend (the server)</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># - steadystate (the CLI)</span></span></code></pre></div>
<h2 id="configure-the-backend">3. Configure the Backend</h2>
<p>Create a configuration file or set environment variables:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Required</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">GITHUB_CLIENT_ID</span><span class="op">=</span><span class="st">&quot;your_github_client_id&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">GITHUB_CLIENT_SECRET</span><span class="op">=</span><span class="st">&quot;your_github_client_secret&quot;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">JWT_SECRET</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$(</span><span class="ex">openssl</span> rand <span class="at">-base64</span> 32<span class="va">)</span><span class="st">&quot;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">STEADYSTATE_PORT</span><span class="op">=</span>3000</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">STEADYSTATE_EXTERNAL_HOST</span><span class="op">=</span><span class="st">&quot;your-server-ip-or-hostname&quot;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">STEADYSTATE_SSH_USER</span><span class="op">=</span><span class="st">&quot;steadystate&quot;</span>  <span class="co"># System user for SSH sessions</span></span></code></pre></div>
<h2 id="create-the-steadystate-system-user">4. Create the SteadyState
System User</h2>
<p>For collaboration sessions, SteadyState needs a dedicated system
user:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the user</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> useradd <span class="at">-m</span> <span class="at">-s</span> /bin/bash steadystate</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure the user can run the CLI</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> cp target/release/steadystate /usr/local/bin/</span></code></pre></div>
<p>On <strong>NixOS</strong>, add to your configuration:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode nix"><code class="sourceCode nix"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>users.users.steadystate = <span class="op">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="va">isNormalUser</span> <span class="op">=</span> <span class="cn">true</span><span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">home</span> <span class="op">=</span> <span class="st">&quot;/home/steadystate&quot;</span><span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="va">shell</span> <span class="op">=</span> pkgs.bash<span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span>;</span></code></pre></div>
<h2 id="start-the-backend">5. Start the Backend</h2>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the backend</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">./target/release/steadystate-backend</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Or with systemd (recommended for production)</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl start steadystate</span></code></pre></div>
<p>The backend will start on port 3000 (or your configured port).</p>
<h2 id="firewall-configuration">6. Firewall Configuration</h2>
<p>Ensure these ports are accessible:</p>
<table>
<thead>
<tr class="header">
<th>Port</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3000</td>
<td>Backend API</td>
</tr>
<tr class="even">
<td>2000-3000</td>
<td>SSH sessions (dynamic range)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># UFW example</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ufw allow 3000/tcp</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ufw allow 2000:3000/tcp</span></code></pre></div>
            </main>

            <footer>
                <div class="footer-left">SteadyState</div>
                <div class="footer-center">2025-12-01</div>
                <div class="footer-right">SELF_HOSTING</div>
            </footer>
        </div>
    </div>

</body>

</html>